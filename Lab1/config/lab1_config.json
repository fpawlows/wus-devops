{
    "resource_group_name": "wusLab1Group",
    "location": "westeurope",
    "network": {
        "name": "Lab1Network",
        "address_prefix": "10.40.0.0/16"
    },
    
    "deployments": [
        {
            "name": "backend",
            "subnet": {
                "port": 8080,
                "address_prefixes": "10.40.1.0/24", 
                "nsg_rules": []
            },
            "virtual_machine": {
                "private_ip_address": "10.40.1.8",
                "public_ip": "backend",
                "deploy": [{
                    "database_ip": "10.40.3.8",
                    "database_port": 3306,
                    "database_user": "user",
                    "database_password": "password"
                }]
                
            }
        },
        {
            "name": "frontend",
            "subnet": {
                "port": 8080, 
                "address_prefixes": "10.40.2.0/24", 
                "nsg_rules": []
            },
            "virtual_machine": {
                "private_ip_address": "10.40.2.8",
                "public_ip": "frontend",
                "deploy": [{
                    "backend_address": "backend",
                    "backend_port": 8080
                }]
                
            }
        },
        {
            "name": "database",
            "subnet": {
                "port": 3306, 
                "address_prefixes": "10.40.3.0/24", 
                "nsg_rules": []
            },
            "virtual_machine": {
                "private_ip_address": "10.40.3.8",
                "public_ip": "",
                "deploy": [{
                    "user": "user",
                    "password": "password"
                }]
            }
        }
    ]
}